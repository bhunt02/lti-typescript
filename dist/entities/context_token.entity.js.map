{"version":3,"file":"context_token.entity.js","sourceRoot":"/","sources":["entities/context_token.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qCAAqF;AAY9E,IAAM,iBAAiB,GAAvB,MAAM,iBAAkB,SAAQ,oBAAU;CAmDhD,CAAA;AAnDY,8CAAiB;AAE5B;IADC,IAAA,uBAAa,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;oDACd;AAGlB;IADC,IAAA,uBAAa,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;+CACnB;AAGb;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;;gDACtB;AAGhB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;+CACZ;AAGb;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;wDACH;AAGtB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;;mDACA;AAG1B;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;kDACrB;AAGrB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;iDACV;AAGhC;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;6DACA;AAG1C;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;sDACrB;AAGpB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;kDACzB;AAGhB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;8DACA;AAG1C;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;8CAC3B;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;mDACd;AAG5B;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qDACf;AAG3B;IADC,IAAA,0BAAgB,EAAC,EAAE,IAAI,EAAE,0BAA0B,EAAE,CAAC;8BAC5C,IAAI;oDAAC;AAGhB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,GAAG,EAAE,EAAE,CAAC;;oDAC9B;4BAlDP,iBAAiB;IAD7B,IAAA,gBAAM,EAAC,qBAAqB,CAAC;GACjB,iBAAiB,CAmD7B","sourcesContent":["import {BaseEntity, Column, CreateDateColumn, Entity, PrimaryColumn,} from 'typeorm';\nimport {\n  DeepLinkingSettings,\n  IMSContext,\n  IMSGradeEndpoint,\n  IMSLaunchPresentation,\n  IMSNamesRoles,\n  IMSResourceLink,\n  LISClaim,\n} from '../utils/types';\n\n@Entity('context_token_model')\nexport class ContextTokenModel extends BaseEntity {\n  @PrimaryColumn({ type: 'text' })\n  contextId: string;\n\n  @PrimaryColumn({ type: 'text' })\n  user: string;\n\n  @Column({ type: 'text', array: true })\n  roles: string[];\n\n  @Column({ type: 'text' })\n  path: string;\n\n  @Column({ type: 'text' })\n  targetLinkUri: string;\n\n  @Column({ type: 'jsonb' })\n  resource: IMSResourceLink;\n\n  @Column({ type: 'jsonb', nullable: true })\n  context?: IMSContext;\n\n  @Column({ type: 'jsonb', nullable: true })\n  custom?: Record<string, string>;\n\n  @Column({ type: 'jsonb', nullable: true })\n  launchPresentation: IMSLaunchPresentation;\n\n  @Column({ type: 'text', nullable: true })\n  messageType: string;\n\n  @Column({ type: 'text', nullable: true })\n  version: string;\n\n  @Column({ type: 'jsonb', nullable: true })\n  deepLinkingSettings?: DeepLinkingSettings;\n\n  @Column({ type: 'jsonb', nullable: true })\n  lis?: LISClaim;\n\n  @Column({ type: 'jsonb', nullable: true })\n  endpoint?: IMSGradeEndpoint;\n\n  @Column({ type: 'jsonb', nullable: true })\n  namesRoles?: IMSNamesRoles;\n\n  @CreateDateColumn({ type: 'timestamp with time zone' })\n  createdAt: Date;\n\n  @Column({ type: 'integer', default: 3600 * 24 })\n  expiresAt: number;\n}\n"]}