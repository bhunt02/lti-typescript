{"version":3,"file":"access_token.entity.js","sourceRoot":"/","sources":["entities/access_token.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qCAAiG;AACjG,0CAAiD;AACjD,uDAAkD;AAG3C,IAAM,gBAAgB,GAAtB,MAAM,gBAAiB,SAAQ,uBAAe;CA+BpD,CAAA;AA/BY,4CAAgB;AAE3B;IADC,IAAA,uBAAa,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;qDACZ;AAGpB;IADC,IAAA,uBAAa,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;kDACf;AAGjB;IADC,IAAA,uBAAa,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;gDACjB;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;4CACd;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;8CACZ;AAGb;IADC,IAAA,0BAAgB,EAAC,EAAE,IAAI,EAAE,0BAA0B,EAAE,CAAC;8BAC5C,IAAI;mDAAC;AAGhB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;mDACzB;AAUlB;IARC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,+BAAa,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,YAAY,EAAE;QACnE,QAAQ,EAAE,SAAS;QACnB,QAAQ,EAAE,SAAS;KACpB,CAAC;IACD,IAAA,oBAAU,EAAC;QACV,EAAE,IAAI,EAAE,aAAa,EAAE,oBAAoB,EAAE,aAAa,EAAE;QAC5D,EAAE,IAAI,EAAE,UAAU,EAAE,oBAAoB,EAAE,UAAU,EAAE;KACvD,CAAC;8BACQ,+BAAa;kDAAC;2BA9Bb,gBAAgB;IAD5B,IAAA,gBAAM,EAAC,oBAAoB,CAAC;GAChB,gBAAgB,CA+B5B","sourcesContent":["import { Column, CreateDateColumn, Entity, JoinColumn, ManyToOne, PrimaryColumn } from 'typeorm';\nimport { EncryptedEntity } from '../utils/types';\nimport { PlatformModel } from './platform.entity';\n\n@Entity('access_token_model')\nexport class AccessTokenModel extends EncryptedEntity {\n  @PrimaryColumn({ type: 'text' })\n  platformUrl: string;\n\n  @PrimaryColumn({ type: 'text' })\n  clientId: string;\n\n  @PrimaryColumn({ type: 'text' })\n  scopes: string;\n\n  @Column({ type: 'text' })\n  iv: string;\n\n  @Column({ type: 'text' })\n  data: string;\n\n  @CreateDateColumn({ type: 'timestamp with time zone' })\n  createdAt: Date;\n\n  @Column({ type: 'integer', default: 3600 })\n  expiresAt: number;\n\n  @ManyToOne(() => PlatformModel, (platform) => platform.accessTokens, {\n    onDelete: 'CASCADE',\n    onUpdate: 'CASCADE',\n  })\n  @JoinColumn([\n    { name: 'platformUrl', referencedColumnName: 'platformUrl' },\n    { name: 'clientId', referencedColumnName: 'clientId' },\n  ])\n  platform: PlatformModel;\n}\n"]}